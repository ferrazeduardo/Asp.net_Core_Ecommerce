@model CarrinhoViewModel

@{
    ViewData["Title"] = "Carrinho de Compra";
}

<form asp-controller="Carrinho" asp-action="FinalizarCarrinho" method="get">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Produto</th>
                <th scope="col">Quantidade</th>
                <th scope="col">Valor</th>
                <th scope="col">Subtotal</th>
                <th scope="col">Remover</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var produto in Model.Carrinho.GetProdutosCarrinho())
            {
            <tr class="linha">
                <th scope="row" asp-for="ProdutoId"><input type="text" asp-for="ProdutoId" value="@produto.Produto.ProdutoId" /></th>
                <td ><input type="text" asp-for="Nome" value="@produto.Produto.Nome"/></td>
                <td><input class="quantidade" type="number" id="evento_@produto.Produto.ProdutoId" min="1" max="@produto.Produto.Quantidade" asp-for="Quantidade" value="@produto.Quantidade"> </td>
                <td><section class="evento_@produto.Produto.ProdutoId" >@produto.Produto.Preco</section></td>
                <td><div name="evento_@produto.Produto.ProdutoId" class="preco_subTotal" >@produto.Produto.Preco</div></td>
                <td class="text-center"><a class="" asp-controller="Carrinho" asp-action="Remover" asp-route-ProdutoId="@produto.Produto.ProdutoId">Clique</a></td>
            </tr>    
            }
        </tbody>
    </table>

    <input type="submit" class="btn btn-default" value="Concluir Pedido"/>
</form>

<ul>
    <li>Total</li>
    <li id="total"></li> 
    <li id="subtotal">0</li>
</ul>

<button id="calSubtotal" class="btn btn-primary">Subtotal</button>

<a class="btn btn-success" asp-controller="Pedido" asp-action="Checkout">Encerrar Pedido</a>

<script src="~/js/indexCarrinho.js"></script>